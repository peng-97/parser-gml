{"version":3,"file":"parser-gml.js","sources":["../src/index.js"],"sourcesContent":["const parseOption = { shape: [\"geometry\", \"the_geom\", \"geom\", \"shape\"] };\r\nfunction getPoint(point, type) {\r\n  let coor = point.split(type).map(function (co) {\r\n    return parseFloat(co);\r\n  });\r\n  return {\r\n    type: \"Point\",\r\n    coordinates: coor,\r\n  };\r\n}\r\nfunction getGeoJsonPoint(data) {\r\n  let key = Object.keys(data)[0];\r\n  return key == \"pos\" ? getPoint(data[key], \" \") : getPoint(data[key], \",\");\r\n}\r\nfunction getGeoJsonPolyline(data) {\r\n  let key = Object.keys(data)[0];\r\n  let polyline = [];\r\n  if (key == \"posList\") {\r\n    let listcoor = data[key].split(\" \");\r\n    listcoor.forEach(function (co, index) {\r\n      if (index % 2 != 0) {\r\n        polyline.push([\r\n          Number.parseFloat(listcoor[index - 1]),\r\n          Number.parseFloat(listcoor[index]),\r\n        ]);\r\n      }\r\n    });\r\n  } else {\r\n    data[key].split(\" \").map(function (point) {\r\n      polyline.push(getPoint(point, \",\").coordinates);\r\n    });\r\n  }\r\n  return {\r\n    type: \"LineString\",\r\n    coordinates: polyline,\r\n  };\r\n}\r\nfunction getGeoJsonPolygon(data) {\r\n  let key = Object.keys(data)[0];\r\n  let polygon = [];\r\n  if (data[key] instanceof Array) {\r\n    data[key].forEach(function (lineArea) {\r\n      polygon.push(\r\n        getGeoJsonPolyline(lineArea[Object.keys(lineArea)[0]]).coordinates\r\n      );\r\n    });\r\n  } else {\r\n    polygon.push(\r\n      getGeoJsonPolyline(data[key][Object.keys(data[key])[0]]).coordinates\r\n    );\r\n  }\r\n  return {\r\n    type: \"Polygon\",\r\n    coordinates: polygon,\r\n  };\r\n}\r\nfunction convertToJSON(xmlDoc) {\r\n  // xmlDoc =new DOMParser().parseFromString(xmlDoc, 'text/xml');\r\n  var nodeList = xmlDoc.childNodes; //根节点  root node\r\n  function generate(node_list) {\r\n    let obj = {};\r\n    let childNodes = getNodeChildName(node_list);\r\n    for (var i = 0; i < node_list.length; i++) {\r\n      var curr_node = node_list[i];\r\n      if (curr_node.nodeType == 3) {\r\n        //忽略子节点中的换行和空格   ignore  '\\n' and ' ' of  children node\r\n        continue;\r\n      }\r\n      let value = \"\"; // let value= curr_node.childNodes.length > 1 ? generate(curr_node.childNodes): (curr_node.childNodes[0]!=null?curr_node.childNodes[0].nodeValue.trim():\"\");\r\n      if (curr_node.childNodes.length > 1) {\r\n        value = generate(curr_node.childNodes);\r\n      } else if (curr_node.childNodes.length == 1) {\r\n        value = curr_node.childNodes[0].nodeValue\r\n          ? curr_node.childNodes[0].nodeValue.trim()\r\n          : generate(curr_node.childNodes);\r\n      }\r\n      let key = curr_node.nodeName.substring(\r\n        curr_node.nodeName.indexOf(\":\") + 1\r\n      );\r\n      if (childNodes[curr_node.nodeName] > 1) {\r\n        if (obj[key]) {\r\n          obj[key].push(value);\r\n        } else {\r\n          obj[key] = [value];\r\n        }\r\n      } else {\r\n        obj[key] = value;\r\n      }\r\n    }\r\n    return obj;\r\n  }\r\n  //find children node name from father node\r\n  function getNodeChildName(node_list) {\r\n    let obj = {};\r\n    for (var i = 0; i < node_list.length; i++) {\r\n      var curr_node = node_list[i];\r\n      if (curr_node.nodeType == 3) {\r\n        continue;\r\n      }\r\n      let name = node_list[i].nodeName;\r\n      obj[name] = obj.hasOwnProperty(name) ? obj[name] + 1 : 1;\r\n    }\r\n    return obj;\r\n  }\r\n  return generate(nodeList);\r\n}\r\nfunction getMutiGeometry(data) {\r\n  let key = Object.keys(data)[0];\r\n  if (data[key] instanceof Array) {\r\n    let listGeometry = data[key].map(function (po) {\r\n      return getGeometry(po);\r\n    });\r\n    return {\r\n      type: \"Multi\" + listGeometry[0].type,\r\n      coordinates: listGeometry.map(function (geo) {\r\n        return geo.coordinates;\r\n      }),\r\n    };\r\n  } else if (data[key] instanceof Object) {\r\n    let geometry = getGeometry(data[key]);\r\n    return {\r\n      type: \"Multi\" + geometry.type,\r\n      coordinates: [geometry.coordinates],\r\n    };\r\n  } else {\r\n    {\r\n    }\r\n  }\r\n}\r\nfunction getGeometry(data) {\r\n  let key = Object.keys(data)[0];\r\n  switch (key.toLowerCase()) {\r\n    case \"point\":\r\n      return getGeoJsonPoint(data[Object.keys(data)[0]]);\r\n    case \"linestring\":\r\n      return getGeoJsonPolyline(data[Object.keys(data)[0]]);\r\n    case \"polygon\":\r\n      return getGeoJsonPolygon(data[Object.keys(data)[0]]);\r\n    default:\r\n      return getMutiGeometry(data[Object.keys(data)[0]]);\r\n  }\r\n}\r\nfunction parseFeature(feature) {\r\n  var obj = {\r\n    type: \"Feature\",\r\n    geometry: {},\r\n    properties: {},\r\n  };\r\n  let geometry = null;\r\n  for (var pKey in feature) {\r\n    !parseOption.shape.find(function (geo) {\r\n      return pKey.toLowerCase() == geo;\r\n    })\r\n      ? (obj.properties[pKey] = feature[pKey])\r\n      : (geometry = feature[pKey]);\r\n  }\r\n  if (geometry) {\r\n    obj.geometry = getGeometry(geometry);\r\n  } else {\r\n    //no shape fields,select fields from data and construct object\r\n    for (var pKey in obj.properties) {\r\n      if (\r\n        obj.properties[pKey] instanceof Object ||\r\n        obj.properties[pKey] instanceof Array\r\n      ) {\r\n        obj.geometry = getGeometry({ shape: obj.properties[pKey] });\r\n        delete obj.properties[pKey];\r\n      }\r\n    }\r\n  }\r\n  return obj;\r\n}\r\nfunction parseMember(data) {\r\n  let features = [];\r\n  if (data instanceof Array) {\r\n    data.forEach(function (feature) {\r\n      features.push(parseFeature(feature));\r\n    });\r\n  } else if (data instanceof Object) {\r\n    features.push(parseFeature(data));\r\n  }\r\n  return features;\r\n}\r\nfunction getGeoJson(data, option) {\r\n  if (!data) {\r\n    return null;\r\n  }\r\n  if (option && option.shape) {\r\n    parseOption.shape.push(option.shape.toLowerCase());\r\n  }\r\n  let features = [];\r\n  try {\r\n    if (Object.prototype.toString.call(data) != \"[object XMLDocument]\") {\r\n      data = new DOMParser().parseFromString(data, \"text/xml\");\r\n    }\r\n    let jsonData = convertToJSON(data);\r\n    let featurecollection = jsonData[Object.keys(jsonData)[0]];\r\n    let key = Object.keys(featurecollection).find(function (type) {\r\n      return type.toLowerCase().includes(\"member\");\r\n    });\r\n    let members = featurecollection[key];\r\n    // if(key.toLowerCase().includes(\"members\")){\r\n    //     if (members instanceof Array) {\r\n    //         members.forEach(function (member) {\r\n    //             features=  features.concat(parseMember(member[Object.keys(member)[0]]))\r\n    //         })\r\n    //     } else if (members instanceof Object) {\r\n    //         features=features.concat(parseMember(members[Object.keys(members)[0]]))\r\n    //     }\r\n    // } else{\r\n    //     if (members instanceof Array) {\r\n    //         members.forEach(function (member) {\r\n    //             features.push(parseFeature(member[Object.keys(member)[0]]))\r\n    //         })\r\n    //     } else if (members instanceof Object) {\r\n    //         let member=members[Object.keys(members)[0]];\r\n    //         features.push(parseFeature( member))\r\n    //     }\r\n    // }\r\n    if (members instanceof Array) {\r\n      members.forEach(function (member) {\r\n        features = features.concat(parseMember(member[Object.keys(member)[0]]));\r\n      });\r\n    } else if (members instanceof Object) {\r\n      features = features.concat(parseMember(members[Object.keys(members)[0]]));\r\n    }\r\n    return {\r\n      type: \"FeatureCollection\",\r\n      features,\r\n    };\r\n  } catch (er) {\r\n    console.log(er);\r\n    return null;\r\n  }\r\n}\r\nexports.getGeoJson = getGeoJson;\r\n"],"names":[],"mappings":"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"}